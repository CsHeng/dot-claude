# LLM Governance Configuration
# Simplified schema for LLM-facing file validation
# Location: skills/llm-governance/scripts/config.yaml

# Style labels controlled vocabulary (for output-styles only)
style_labels:
  allowed:
    - reasoning-first
    - tool-first
    - minimal-chat

# Directory-based classification rules
classification:
  skills:
    directory_pattern: "skills/**/SKILL.md"
    framework: "SIMPLE"
    classification_logic: "Directory name 'skills' indicates model-invoked autonomous capabilities"
    preserve:
      - "name:"
      - "description:"
      - "Use when"
    remove:
      - "conversational content"

  commands:
    directory_pattern: "commands/**/*.md"
    framework: "DEPTH"
    classification_logic: "Directory name 'commands' indicates user-invoked slash commands"
    preserve:
      - "allowed-tools:"
      - "argument-hint:"
      - "(default:"
      - "```bash"
      - "Exit code:"
    remove:
      - "verbose explanations"

  agents:
    directory_pattern: "agents/**/*.md"
    framework: "COMPLEX"
    classification_logic: "Directory name 'agents' indicates subagents with delegation capabilities"
    preserve:
      - "name:"
      - "description:"
      - "tools:"
      - "allowed-tools:"
    remove:
      - "redundant descriptions"

  rules:
    directory_pattern: "rules/**/*.md"
    framework: "SIMPLE"
    classification_logic: "Directory name 'rules' indicates imperative rule files"
    preserve:
      - "REQUIRED:"
      - "PROHIBITED:"
      - "OPTIONAL:"
    remove:
      - "all narrative content"

  core:
    directory_pattern:
      - "AGENTS.md"
      - "CLAUDE.md"
    framework: "MINIMAL"
    classification_logic: "Core memory and routing manifests"
    preserve:
      - "skill:"
      - "required-skills:"
      - "routing"
    remove:
      - "redundant explanations"

  output-styles:
    directory_pattern: "output-styles/**/*.md"
    framework: "SIMPLE"
    classification_logic: "Output style manifests"
    preserve:
      - "name:"
      - "description:"
      - "keep-coding-instructions:"
    remove:
      - "narrative content"

# Frontmatter schemas for different manifest types
# Simplified: Only official fields, no metadata section
frontmatter_schemas:
  skill:
    official_fields:
      required:
        - name
        - description
      optional:
        - allowed-tools
    validation_rules:
      name:
        pattern: "^[a-z0-9-]+$"
        max_length: 64
      description:
        max_length: 1024
        recommended_includes: ["Use when"]
      allowed_tools:
        types: [list, str]
    structural_requirements: {}

  command:
    official_fields:
      required:
        - description
      optional:
        - name
        - argument-hint
        - allowed-tools
    validation_rules:
      name:
        pattern: "^[a-z0-9-]+$"
        max_length: 64
        optional: true
      description:
        max_length: 1024
        optional: false
      argument_hint:
        type: str
        optional: true
      allowed_tools:
        types: [list, str]
        optional: true
    structural_requirements: {}

  agent:
    official_fields:
      required:
        - name
        - description
      optional:
        - allowed-tools
        - tools
    validation_rules:
      name:
        pattern: "^[a-z0-9-]+$"
        max_length: 64
      description:
        max_length: 1024
      allowed_tools:
        types: [list, str]
        optional: true
    structural_requirements: {}

  output-style:
    official_fields:
      required:
        - name
        - description
      optional:
        - keep-coding-instructions
    validation_rules:
      name:
        pattern: "^[a-z0-9-]+$"
        max_length: 64
      description:
        max_length: 1024
      keep_coding_instructions:
        type: bool
        optional: true
    structural_requirements: {}

# Content validation rules
content_rules:
  prohibited_elements:
    - bold_markers_in_body: true
    - emojis: true
    - narrative_content: true
    - modal_verbs_in_body:
        verbs: ["may", "might", "could"]
        exception: "normative rule definitions may include modal verbs when required"

  required_style:
    - imperative_or_declarative: true
    - terse_directive: true
    - high_density: true

# Validation severity levels
severity_levels:
  critical:
    - missing_required_fields
    - invalid_field_types
    - prohibited_elements_in_body
    - schema_violations
  warning:
    - missing_recommended_fields
    - style_label_unknown
    - missing_recommended_sections
    - narrative_content_detected
  info:
    - missing_optional_fields
    - style_compatibility_hints
